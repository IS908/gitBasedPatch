### 2017-11-21

- 抽取增量到确认时段增加静默期
- 根据相邻Tag之间的差异抽取增量描述文件
- 增量描述文件去掉check

#### 问题列表
- 不需要开发人员check操作，即只需开发人员确认文件列表：是否可以通过统一位置访问（web端）
- VPS版本控制：通过Web的页面管理，添加历史增量包的下载及相关描述
- 增加版本管理功能：增量描述文件xml用数据库替换


#### 2017-11-22
- Jenkins备份、应用服务器备份，重复工作
- Jenkins中配置shell比较乱
- OMS与Jenkins

- 分支基线的规划及管理
- GIT中Tag与目标码
- GitLab安装规范化

- Jenkins的jobs名称规范 ：环境\_IP\_应用名\_分支基线


- projectnam/dailyFix/uattag_2017112801 Tag名称，uatTag_2017112801
- tag对应生成临时分支
- 1、dailyFix分支在增量版本出现的相应问题
- 2、版本增量master相邻两次版本出增量，master增量
- 3、master与dailyFix分支合并
- 4、全量包依赖可能存在的问题：
    * 场景1：核心依赖平台jar包，通过maven仓库的形式管理依赖，当平台jar包g1升级更换后，核心业务代码多个模块（模块A、模块B、模块C）有依赖平台Jar包g1；而在该次的增量版本中模块A、模块B有业务代码的改动，但是模块C没有改动；最终抽取的增量包中会包含模块A、模块B，但由于模块C的业务代码没有改动，故增量中不会有C模块。而实质上模块C在重新编译（全量）过程的目标码已经改变了。平台升级单个模块到maven私服，对业务代码模块的影响范围很难人为评估，可能有更多的业务模块依赖升级的该平台模块。（解决方法：平台每次升级或变动，下一次不是追增量，而是直接打一个全量）
    *场景2：核心业务代码间的依赖问题。核心业务代码模块间有依赖关系：moduleA依赖moduleB、moduleC、moduleD；moduleB依赖moduleD。在相邻的两次打版本之间以上模块有如下改动：moduleA、moduleD中有代码变动；moduleB、moduleC中没有代码变动。其中moduleD中代码改动，影响到moduleB中的调用方法（如：D中方法原本返回值类型为Integer，改为了返回int。在B中调用不需要改动，但传递依赖 D --> B --> A 中，A对D的改动做了相应调整，B没有调整。但是在编译打包过程中由于D改变了，B的目标码也随D改变了。但是我们在抽增量过程中只能抽出A、D两个模块；B模块并没有抽出来。此时，可能存在很难察觉的安全隐患。


# 平台升级问题 -- 全量、增量
# 打包与部署分离：目前打包过程将目标码放到一个目录下；部署过程从该文件夹下取相应目标码。
    - 拆分需要时间，只能有意识的进行打包、部署分开；拆分到什么程度
    - 目前Jenkins进行打包、部署，刻意拆分打包与部署困难点、疑问：Jenkins与OMS对接方式未知，没有拆分的标准
